---
layout: post
title: Detecting Nearly Duplicated Records in Location Datasets
subtitle: Detecting Nearly Duplicated Records in Location Datasets
categories: datascience
tags: paper
comments: true
---

## Detecting Nearly Duplicated Records in Location Datasets
지리 데이터셋에서 중복레코드 검출하기

## Abstract
구글맵, bing 맵 같은 로컬 검색 엔진의 품질은 지리적 데이터셋에 크게 의존한다. 일반적으로 이러 한 데이터셋은 여러 소스, 예를들면 yello page(전화번호부)같은 Contents Provider(이하 CP) 들에게 획득된다. 따라서 동일한 위치 객체는 서로 다른 데이터소스에서 이름과 주소가 약간씩만 다르게 표현되는 여러 레코드를 가질 수 있다. 예를들면, '시애틀 프리미엄 아울렛'과 '시애틀 프리 미어 아울렛 몰'은 이름은 다르지만 동일한 장소를 묘사하고있다. 이로인해 데이터베이스에서 중복 된 레코드가 많이 발생하여 데이터관리에 문제가 발생하고, 사용자가 검색했을때 여러개의 결과가 나오므로써 혼란을 야기한다. 따라서 이러한 중복레코드를 탐지하기 위해 1. 후보선정 2. 특징 추출 및 훈련 3. 추론 세단계로 구성된 기계학습 접근법을 제안한다. 이름의 유사성과 주소의 유사성 및 카테고리 유사성으로 구성된 세가지 주요 특징과 해당 metric을 판별하여 두 레코드 사이 차이를 모델링한다. 우리가 가진 대규모 데이터 세트를 기반으로 실험하고 평가하였고, 이 방법의 정확도 는 90% 이상이었다.

## Introduction
지리정보시스템과 웹이 결합되면서 사용자들은 쇼핑몰이나 식당 같은 행선지를 찾기 위해 구글, bing맵 등 모바일/위치검색서비스에 점점 더 의존하고있다. 이러한 종류의 검색 엔진의 품질은 랜드 마크, 비즈니스 및 관심지점(POI:Point of Interest) 을 디지털 지도에 표기하는 위치 데이터세트에 크게 의존한다.  
poi entity는 모바일 gps사용자들로부터 인입되므로 gps좌표정보가 높은 정확도를 갖는 경향이 있다. 그러나 해당 정보를 만든 사용자가 해당 정보를 직접 관리하지는 않기 때문에 나머지 정보( 이름, 주소 등)는 부정확한 경우가 많다. yp entity는 그들이 관리하는 비즈니스나 장소를 통해 생성되며 이를테면 인터넷 크롤링을 통해 데 이터셋을 만들게된다.  
yp entity는 발견되고자 하는 의지가 있는 기업이나 장소에 의해 만들어지기 때문에 이름 및 주소필드가 매우 정확할 가능성이 크다. yp entity에대한 gps 좌표는 주소필드에 기반하여 geo coding되어 만들어진다. 따라서 yp entity의 좌표정확도는 주소의 정확도에 기반하 게 된다.  

일반적으로 이러한 데이터셋은 여러 전문 데이터 공급자(Contents Provider)로부터 구입하거나 웹을 크롤링하는 등 다양한 소스를 통해 얻어진다. 그러므 로 장소 엔티티는 여러 데이터 소스로부터 서로 다른 표현을 가진 여러 레코드를 가질 수 있다. (ex . 동일한 장소를 의미하지만 다른 이름인 '시애틀 프리미엄 아울렛'과 '시애틀 프리미엄 아울렛 몰)  
이러한것을 중복이라고 판단하는데 이는 여러개의 위치 데이터 세트의 레코드가 거의 유사 하지만 미묘하게 다른 표현을 통해 동일한 실체를 가리킨다는것을 의미한다.

중복된 엔티티는 위치데이터베이스 관리에 문제를 야기한다. 또한 사용자는 검색 결과에 대해 혼란 스러워질 수 있다. 한가지 검색어에 여러 비슷한 결과가 리턴될 수 있기 때문이다. 사용자는 어떤것 이 자신이 찾고자하는 데이터인지 알 수 없다. 따라서 중복 엔티티를 병합함으로써 우리는 두 가지 이점을 얻을 수 있다. 첫째, 중복 엔티티를 정규화하여 더 많은 stoage를 확보하고 위치데이터베 이스를 일관성있게 만들 수 있다. 둘째, 만약 POI레코드와 YP 레코드가 중복된다면, 우리는 yp entity 와 poi entity 의 이점을 결합해 데이터의 정확도를 향상시킬 수 있다.

그러나 두 개의 레코드가 중복되었는지 여부를 확인하는것은 매우 어려운일이다.  
첫째로 두 레코드 는 같은 위치에 다른 표현으로 정의될 수 있다. 따라서 두 레코드의 필드를 정확히 일치시켜서 중복 이라고 결정할 수는 없다.   
둘째로 레코드는 각자 정확하지 않은 영역이 있다. (yp entity의 부정확 한 좌표정보, poi 엔티티의 부정확한 주소 및 이름정보) 따라서 두 레코드 사이의 유사성을 결정하 기 위해 일부 임계값을 정의하는것은 매우 어렵다.   
셋째로 두 레코드 이름간의 유클리디안 거리 혹 은 edit distance는 두 레코드의 차이점을 정의하기에 적합한 모델이 아니다.

이 논문에서는 머신러닝 기반 접근을 통해 장소데이터셋의 중복레코드를 검출해낼것이다. 이 접근법에 서 우리는 먼저 전처리 알고리즘을 사용하여 주어진 위치 엔티티에 대해 유사 후보군 세트를 선택한다. 그리고 각 유사 후보 쌍에 대해 이름유사성, 주소유사성, 카테고리 유사성 등 각 필드의 유사성을 조사 하고 이러한 유사성을 나타내는 특징 집합을 식별한다. 이후 이러한 feature는 사람이 라벨링한 데이터 셋을 사용하여 미리 훈련된 모델에 넣어 중복인지 중복이 아닌지에 대한 예측 결과를 얻는다.   
이 작업은 아래 3가지 측면에서 공헌한다.
1. 우리는 기계학습의 철학을 이용하여 추론한다. 두 엔티티간의 룰 기반 휴리스틱이나 정확한 일치 여 부를 보기보다는 유사도를 고려한다. 다만 하나의 필드가 아닌 여러 필드를 포괄적으로 고려한다. 
2. 이름유사성, 주소유사성, 카테고리 유사성을 포함한 key feature들의 세트를 정의하여 중복과 비중 복 레코드의 차이점을 효과적으로 구별하는데 사용한다. 또한 우리는 dedit distance, Euclidian distance 같은 기존의 유사성 측정 로직보다 유사성을 더 잘 모델링할 수 있는 metric을 정의한다. 
3. 우리는 대규모의 실제 데이터세트를 사용하여 우리의 접근법을 평가한다. 그리고 집중적인 실험으로 그 효과를 증명한다.

